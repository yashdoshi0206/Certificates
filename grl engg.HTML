<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRL Engg</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <style type="text/css" media="print">
        body {
            font-size: 12px !important;
        }
        
        .button-table {
            display: none;
        }
        
        b {
            font-size: 12px;
        }
        
        .qr-code {
            width: 135px !important;
            height: 135px !important;
            margin-right: 10px !important;
        }
        
        #sg_type {
            border: none;
            appearance: none;
        }
        
        .input {
            border: none;
            font-family: inherit;
            font-size: inherit;
            padding: 0;
            font-weight: bold;
        }
        
        .form-input {
            border: none;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <table class="">
                <tr>
                    <td colspan="3" style="padding-right: 20px;">
                        <img src="grlimg.png">
                    </td>
                    <td colspan="1">
                        <div class="qr-code" style="float: right;">
                            <img src="https://chart.googleapis.com/chart?cht=qr&chl=Hello+World&chs=165x165&chld=L|0" class="qr-code img-responsive" />

                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="content">
                        </label>
                            <div class="col-sm-10 mx-auto">
                                <input hidden type="text" size="300" maxlength="300" class="form-control" id="content" placeholder="Enter content" />
                            </div>
                        </div>
                    </td>
                    <td colspan="2">
                        <div style="float: right;">
                            Sr No:<span id="serial_no" class="input" role="textbox" contenteditable>000011266</span><br> Issue Date:-
                            <span id="date" class="input" role="textbox" contenteditable>00/00/0000</span><br> Renewal Date:-
                            <span id="next_due_date" class="input" role="textbox" contenteditable>00/00/0000</span>
                        </div>
                    </td>
                </tr>
                <tr>

                    <td colspan="6" class="text-center">
                        <h4 style="border:black ;border-width:3px; border-style:solid;"><b> Annual Maintenance Contract</b></h4>
                        (Department Copy)
                    </td>

                </tr>
                <tr>
                    <td colspan="4">
                        This is an Agreement made on date: <span id="from_date" class="input" role="textbox" contenteditable></span> between contractor M/s GRL Engineers & the hirer (customer) details of whom is given below:
                        <br>(Terms & Conditions apply)*

                    </td>
                </tr>
                <tr>

                    <td colspan="4" class="text-center">
                        <h4 style="border:black ;border-width:3px; border-style:solid;"><b> Detail Of Vehicle Customer</b></h4>
                    </td>

                </tr>
            </table>
            <table style="border:black ;border-width:1px; border-style:solid;" class="">
                <tr>
                    <td colspan="1">
                        SPEED GOVERNOR NO.<br><br> MANUFACTURE NAME<br><br> SPEED GOVERNOR TYPE<br><br> TYPE APPROVAL NO.<br><br> TEST RESPORT NUMBER<br><br> COP NO.<br><br> COP DATE/VALIDITY<br><br> TEST AGENCY<br><br> SET SPEED<br><br> VEHICLE MODEL

                    </td>
                    <td colspan="1" style="border:black ;border-width:1px,5em; border-right-style:double;">
                        : <span id="unit_no" class="input" role="textbox" contenteditable>52650</span>
                        <br><br> : <span id="mnf_name" class="input" role="textbox" contenteditable>GRL Engineers</span>
                        <br><br> : <select id="sg_type">
                            <option value="CABLE TYPE">CABLE TYPE</option>
                            <option value="ELECTRONIC TYPE">ELECTRONIC TYPE</option>
                            <option value="FUEL TYPE">FUEL TYPE</option>
                        </select>
                        <br><br> : <span id="tac_no" class="input" role="textbox" contenteditable>CA 1190</span>
                        <br><br> : <span id="report_no" class="input" role="textbox" contenteditable>CT0VM1255</span>
                        <br><br> : <span id="cop_no" class="input" role="textbox" contenteditable>CC0LL0820</span>
                        <br><br> : <span id="mfg_year" class="input" role="textbox" contenteditable>31 Mar 2022</span>
                        <br><br> : <span id="test_agen" class="input" role="textbox" contenteditable>ICAT</span>
                        <br><br> : <span id="speed" class="input" role="textbox" contenteditable>60</span>
                        <br><br> : <span id="vehicle_model" class="input" role="textbox" contenteditable>MARUTI SUZUKI , BS-IV</span>
                    </td>

                    <td colspan="1">
                        VEHICLE MAKE<br><br> REGISTRATION NO.<br><br> CHASSIS NO.<br><br> ENGINE NO.<br><br> NEW SEAL/REF.NO<br><br> NEXT RENEWAL DATE.<br><br> CUSTMORE NAME<br><br> CONTACT NO.<br><br> ADDRESS

                    </td>
                    <td colspan="1">
                        : <span id="vehicle_make" class="input" role="textbox" contenteditable>MARUTI</span>
                        <br><br> : <span id="vehicl_no" class="input" role="textbox" contenteditable>MH14GD3836</span>
                        <br><br> : <span id="chassis_no" class="input" role="textbox" contenteditable>C38096</span>
                        <br><br> : <span id="engine_no" class="input" role="textbox" contenteditable>954416</span>
                        <br><br> : <span id="inv_no" class="input" role="textbox" contenteditable>212201</span>
                        <br><br> : <span id="to_date" class="input" role="textbox" contenteditable></span>
                        <br><br> : <span id="owner_name" class="input" role="textbox" contenteditable>POORVA TOURS AND TRAVELS</span>
                        <br><br> : <span id="contact_no" class="input" role="textbox" contenteditable>9892848776</span>
                        <br><br> : <span id="owner_address" class="input" role="textbox" contenteditable>PUNE</span>
                    </td>
                </tr>
            </table>

            <br><br>
            <tr>
                <td colspan="4">

                    <div>
                        For repair and maintenance of speed governor installed in his vehicle mentioned above for a period of one year from the date mention.<br> is certified that the speed governor fitted in vehicle with above details is resealed serviced
                        and is set to a speed <span id="speed_1" class="input" role="textbox" contenteditable>60</span> Â± 2% kmph.
                    </div>
                </td>
            </tr>
            <tr>
                <br>
            </tr>
            <table style="border:black ;border-width:1px; border-style:solid;">
                <tr>
                    <br>
                    <td colspan="8" class="text-center">

                        <h4>SLD CHECK REPORT
                            <h4>
                    </td>
                </tr>
                <tr>
                    <td colspan="4">

                        1. SLD CONDITION
                        <br>2. GEAR SENSOR CONDITION
                        <br>3. WIRING CONDITION
                        <br>4. REMARK
                        <br>5. TACHNICIAN NAME
                    </td>
                    <td colspan="4">
                        : FOUND IN WORKING CONDITION
                        <br>: FOUND IN WORKING CONDITION
                        <br>: PROPER
                        <br>: ALL OK
                        <br>: <span id="tech_name" class="input" role="textbox" contenteditable>sagar</span>
                    </td>
                </tr>
                <br>
            </table>
            <table>
                <tr>
                    <td colspan="6" class="text-center">
                        <h3>Service Point
                            <h3>
                                <br><br><br>
                    </td>

                </tr>
                <tr>
                    <td colspan="2">Customer sign.</td>
                    <td colspan="2"><span id="dist_name" class="input" role="textbox" contenteditable>Kamble</span></td>
                    <td colspan="2">Autho. sign.</td>
                </tr>
            </table>
        </div>
    </div>
    <table class="button-table mt-5 mb-5">
        <tr>
            <td style="text-align: center;">
                <button style="width: 100px;" type="button" id="print" onclick="printDiv()" class="btn btn-info mright5"><b>Print</b></button>
            </td>
        </tr>
    </table>
</body>

<script src="https://code.jquery.com/jquery-3.5.1.js">
</script>

<script>
    $(document).on('keyup', '#date, #from_date', function() {
        $('#date, #from_date').not(this).html(this.innerHTML);
    })
    $(document).on('keyup', '#next_due_date, #to_date', function() {
        $('#next_due_date, #to_date').not(this).html(this.innerHTML);
    })
    $(document).on('keyup', '#speed, #speed_1', function() {
        $('#speed, #speed_1').not(this).html(this.innerHTML);
    })
    $(document).on('keyup', '#address, #owner_address', function() {
        $('#address, #owner_address').not(this).html(this.innerHTML);
    })
    $(document).on('keyup', '#vehicle_no, #vehicl_no', function() {
        $('#vehicle_no, #vehicl_no').not(this).html(this.innerHTML);
    })

    //js function to add date
    function add_days_to_current_date(days) {
        let todate = new Date();
        todate.setDate(todate.getDate() + days);

        return todate;
    }

    //js function to format date
    function change_date_format(required_date) {
        var today = new Date(required_date);
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0');
        var yyyy = today.getFullYear();
        today = dd + '/' + mm + '/' + yyyy;

        return today;
    }

    $(document).ready(function() {

        today = change_date_format(new Date);
        nextYear = change_date_format(add_days_to_current_date(365));

        $('#date').html(today);
        $('#agreement_date').html(today);
        $('#from_date').html(today);
        $('#next_due_date').html(nextYear);
        $('#to_date').html(nextYear);

        $('#propose_date_1').html(change_date_format(add_days_to_current_date(90)));
        $('#propose_date_2').html(change_date_format(add_days_to_current_date(180)));
        $('#propose_date_3').html(change_date_format(add_days_to_current_date(270)));
        $('#propose_date_4').html(change_date_format(add_days_to_current_date(365)));


    })

    let reset = document.getElementsByClassName("reset_img");
    let reset_1 = document.getElementById("reset_img_1");
    let reset_2 = document.getElementById("reset_img_2");

    function showPreviewOne(event) {
        if (event.target.files.length > 0) {
            let src = URL.createObjectURL(event.target.files[0]);
            let preview = document.getElementById("file-ip-1-preview");
            preview.src = src;
            preview.style.display = "block";
            reset_1.style.display = "block";
        }
    }

    function myImgRemoveFunctionOne() {
        document.getElementById("file-ip-1-preview").src = "https://i.ibb.co/ZVFsg37/default.png";
        reset_1.style.display = "none";
    }

    function showPreviewTwo(event) {
        if (event.target.files.length > 0) {
            let src = URL.createObjectURL(event.target.files[0]);
            let preview = document.getElementById("file-ip-2-preview");
            preview.src = src;
            preview.style.display = "block";
            reset_2.style.display = "block";
        }
    }

    function myImgRemoveFunctionTwo() {
        document.getElementById("file-ip-2-preview").src = "https://i.ibb.co/ZVFsg37/default.png";
        reset_2.style.display = "none";
    }

    function printDiv() {

        // reset.style.display = "none";
        $(".reset_img").css({
            "display": "none"
        });
        window.print();
    }

    // Function to HTML encode the text
    // This creates a new hidden element,
    // inserts the given text into it 
    // and outputs it out as HTML
    function htmlEncode(value) {
        return $('<div/>').text(value)
            .html();
    }

    function qr_code_data() {
        var SerialNo = 'SerialNo:' + $('#serial_no').html() + '/';
        var Date = 'Date:' + $('#date').html() + '/';
        var NextDueDate = 'NextDueDate:' + $('#next_due_date').html() + '/';
        var Customer = 'Customer:' + $('#owner_name').html() + '/';
        var Address = 'Address:' + $('#owner_address').html() + '/';
        var FromDate = 'FromDate:' + $('#from_date').html() + '/';
        var ToDate = 'ToDate:' + $('#to_date').html() + '/';
        var VehicleNo = 'VehicleNo:' + $('#vehicl_no').html() + '/';
        var ChassisNo = 'ChassisNo:' + $('#chassis_no').html() + '/';
        var EngineNo = 'EngineNo:' + $('#engine_no').html() + '/';
        var MfgYear = 'MfgYear:' + $('#mfg_year').html() + '/';
        var VehicleMake = 'VehicleMake:' + $('#vehicle_make').html() + '/';
        var VehicleModel = 'VehicleModel:' + $('#vehicle_model').html() + '/';
        var RegDate = 'RegDate:' + $('#reg_date').html() + '/';
        var LastFitnessDate = 'LastFitnessDate:' + $('#last_fitness_date').html() + '/';
        //var OwnerName = 'OwnerName:' + $('#owner_name').html() + '/';
        //var OwnerAddress = 'OwnerAddress:' + $('#owner_address').html() + '/';
        var Email = 'Email:' + $('#email').html() + '/';
        var ContactNo = 'ContactNo:' + $('#contact_no').html() + '/';
        var UnitNo = 'SPEED GOVERNOR NO: ' + $('#unit_no ').html() + '/ ';
        var SgType = 'SgType:' + $('#sg_type').val() + '/';
        var RotoSeal = 'COP No:' + $('#cop_no').html() + '/';
        var SgModel = 'SgModel:' + $('#sg_model').html() + '/';
        var TacNo = 'TacNo:' + $('#tac_no').html() + '/';
        var ReportNo = 'ReportNo:' + $('#report_no').html();
        var speed = 'Speed:' + $('#speed').html() + '/';

        var content = SerialNo + Date + NextDueDate + Customer + Address + VehicleNo + ChassisNo + EngineNo + VehicleMake + VehicleModel + ContactNo + UnitNo + SgType + RotoSeal + speed + TacNo + ReportNo;
        $('#content').val(content);
        $('#content').trigger("change");
    }

    $(function() {


        $('.input').keyup(function() {

            qr_code_data();

        })
        $('#sg_type').change(function() {

            qr_code_data();

        })

        // Specify an onclick function
        // for the generate button
        //   $('#generate').click(function () {
        $('#content').change(function() {

            // Generate the link that would be
            // used to generate the QR Code
            // with the given data 
            let finalURL =
                'https://chart.googleapis.com/chart?cht=qr&chl=' +
                htmlEncode($('#content').val()) +
                '&chs=180x180&chld=L|0'

            // Replace the src of the image with
            // the QR code image
            $('.qr-code').attr('src', finalURL);
            $('.qr-code').css({
                "margin-top": "0px",
                "margin-right": "-5px"
            });
        });
    });
</script>

</html>